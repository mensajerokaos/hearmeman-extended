{
  "review_summary": {
    "overall_score": 43,
    "grade": "A",
    "strengths": [
      "Phase breakdown now ties specific deliverables to commands so implementers can work without guesswork.",
      "Verification section ties Docker, download, workflow, and docs changes to concrete checks, addressing the original testability gap."
    ],
    "improvements_needed": [
      "Add an automated baseline performance check (e.g., sample prompt runtime) so future regressions surface early.",
      "Define success criteria for R2 uploads (file counts, latency) to close the current monitoring gap."
    ]
  },
  "dimension_scores": {
    "completeness": {
      "score": 9,
      "notes": "Covers env vars, downloads, workflows, docs, and validation runbooks. Missing only a performance target section."
    },
    "clarity": {
      "score": 9,
      "notes": "Structured sections with bullet lists, tables, and explicit verification commands keep instructions unambiguous."
    },
    "actionability": {
      "score": 9,
      "notes": "Every phase now names files, commands, and fallback handling required to implement the work."
    },
    "safety": {
      "score": 8,
      "notes": "Rollback steps and risk table communicate threats; could still call out expected cleanup durations."
    },
    "best_practices": {
      "score": 8,
      "notes": "Follows RunPod templates, names env vars consistently, and documents gating points; extra lint/CI hooks would raise this further."
    }
  },
  "gaps_identified": [
    {
      "phase": "P1",
      "gap": "Lacked explicit HF_TOKEN guard rails and verification commands for the new env vars.",
      "severity": "MED",
      "recommendation": "Add `docker compose config` + grep checks and a failing HF_TOKEN validation clause so builds halt before download attempts."
    },
    {
      "phase": "P2",
      "gap": "Custom node instructions did not pin the repository tag or verify imports, increasing drift risk.",
      "severity": "MED",
      "recommendation": "Checkout `v0.2.0` and run `python -m pip check` + import test during the Docker build."
    },
    {
      "phase": "P3",
      "gap": "Download logic lacked fallback tools and VRAM detection for variant selection.",
      "severity": "HIGH",
      "recommendation": "Introduce `download_asset()` with aria2c fallback and use `nvidia-smi` before deciding between fp8/fp16."
    },
    {
      "phase": "P4",
      "gap": "Workflow files were not accompanied by JSON/sampler validation commands.",
      "severity": "MED",
      "recommendation": "Add `python -m json.tool` + `jq` checks to ensure nodes and configuration keys exist before shipping.",
      "notes": "Slightly more detail helps avoid runtime graph failures."
    },
    {
      "phase": "P5",
      "gap": "Documentation did not cover R2 output sizing or updated pod creation env vars.",
      "severity": "LOW",
      "recommendation": "Extend the GPU/env var/storage tables and R2 section with LTX-2-specific entries plus the new `ENABLE_LTX2` example."
    }
  ],
  "improved_prd": "---\ntitle: LTX2 RunPod Template Integration (Codex Review Edition)\ncreated: 2026-01-23T21:45:00-06:00\nauthor: Codex Review Bot\nmodel: claude-haiku-4-5-20251001\nphases: 6\n---\n\n# PRD: LTX2 RunPod Template Integration (Codex Review Edition)\n\n## Executive Summary\n- Add Lightricks LTX-2 (19B params) to the RunPod ComfyUI template via gated downloads, custom nodes, and dedicated workflows while keeping the deployment fully repeatable in production.\n- Deliver environment guards, Git LFS + HF token validation, VRAM-aware downloads, workflows, docs, and an explicit validation runbook so /implement can execute without ambiguity.\n- Phase the work through six checkpoints; each phase lists verification commands, fallback handling, and rollback guidance.\n\n## Architecture Overview\nRunPod Container (hearmeman-extended image)\n\u251c\u2500\u2500 ComfyUI Core\n\u2502   \u251c\u2500\u2500 Custom Nodes: ComfyUI-LTXVideo, VHS video combiners\n\u2502   \u251c\u2500\u2500 Shared Encoders: WAN 2.1 text encoder, VAE, CLIP\n\u2502   \u251c\u2500\u2500 Workflow Loader: text2video + image2video graphs\n\u2502   \u2514\u2500\u2500 VRAM Guard: GPU detection + sequential CPU offload hooks\n\u251c\u2500\u2500 Models & Downloads\n\u2502   \u251c\u2500\u2500 HuggingFace (LTX-2 fp8/fp16) via Git LFS\n\u2502   \u2514\u2500\u2500 Download Orchestrator: `download_models.sh` expanded with `download_ltx2`\n\u2514\u2500\u2500 External Services\n    \u251c\u2500\u2500 RunPod Secrets (HF_TOKEN / R2 creds)\n    \u251c\u2500\u2500 Cloudflare R2 (outputs/ltx2/YYYY-MM-DD)\n    \u2514\u2500\u2500 Local Docker (for testing/validation)\n\n## Phase Overview\n| Phase | Title | Duration | Depends On | Parallel With | Primary Files |\n|------|----------------------------------|----------|-------------|----------------|----------------------------------------------------------------|\n| P1 | Docker Environment Guardrails | 45m | - | - | `docker/Dockerfile`, `docker/docker-compose.yml` |\n| P2 | Custom Node Integration | 30m | P1 | P3 | `docker/Dockerfile` (custom_nodes block) |\n| P3 | Model Download & VRAM Orchestration | 30m | P1 | P2 | `docker/download_models.sh` |\n| P4 | Workflow Definitions | 25m | P2, P3 | - | `docker/workflows/ltx2-text2video.json`, `docker/workflows/ltx2-image2video.json` |\n| P5 | Documentation & Runbooks | 20m | P4 | - | `docker/CLAUDE.md`, README snippets |\n| P6 | Validation & Smoke Testing | 20m | P4, P5 | - | Docker build artifacts, workflows, R2 logs |\n\n## Detailed Phases\n\n### Phase 1: Docker Environment Guardrails\n**Purpose**: Establish flags, install Git LFS, and ensure environment variables governing LTX-2 are explicit and documented.\n**Files**: `docker/Dockerfile`, `docker/docker-compose.yml`\n\n**Steps**:\n1. Install `git-lfs` in `_STAGE 1` and run `git lfs install` (aligns with HuggingFace Git LFS downloads).\n2. Declare `ARG BAKE_LTX2=false`, `ARG LTX2_VARIANT=fp8`, `ARG ENABLE_LTX2_CUSTOM_NODES=true` in the Dockerfile and mirror toggles via `docker-compose.yml` env block.\n3. Add the following environment variables to the compose file:\n   - `ENABLE_LTX2`, `LTX2_VARIANT`, `ENABLE_LTX2_VRAM_MANAGEMENT`, `LTX2_OUTPUT_DIR`, `LTX2_VIDEO_FORMAT`, `LTX2_MAX_FRAMES`.\n4. Document VRAM guidance in the compose file (16GB \u2192 FP8, 24GB \u2192 FP8+400 frames, 32GB+ \u2192 FP16).\n\n**Verification**:\n```bash\ncd docker && \\\n  docker compose --profile comfy config | grep -E 'ENABLE_LTX2|LTX2_VARIANT|LTX2_OUTPUT_DIR' && \\\n  docker build --target final --build-arg BAKE_LTX2=false . >/dev/null\n```\n**Error Handling**: If `HF_TOKEN` is unset while `ENABLE_LTX2=true`, the template should fail fast by emitting `error \"HF_TOKEN is required for LTX-2\"`.\n\n### Phase 2: Custom Node Integration\n**Purpose**: Fetch and verify ComfyUI-LTXVideo nodes with pinned releases to avoid drift.\n**Files**: `docker/Dockerfile` (custom nodes section)\n\n**Steps**:\n1. Clone `https://github.com/Lightricks/ComfyUI-LTXVideo.git` under `/workspace/ComfyUI/custom_nodes`, checkout `v0.2.0`, and log the commit hash via `git rev-parse HEAD` into the Dockerfile comments.\n2. Run `pip install -r requirements.txt` and `python -m pip check` inside the cloned repo.\n3. Add a short Python sanity check at build time to import `ltx_video`, print module version, and exit on failure.\n4. Gate the clone/install under `ENABLE_LTX2_CUSTOM_NODES` so builds that skip LTX-2 do not incur extra time.\n\n**Verification**:\n```bash\ncd docker && \\\n  docker build --build-arg ENABLE_LTX2_CUSTOM_NODES=true --build-arg BAKE_LTX2=true . | tee /tmp/ltx2.log && \\\n  grep -q '\u2705 ComfyUI-LTXVideo' /tmp/ltx2.log\n```\n\n### Phase 3: Model Download & VRAM Orchestration\n**Purpose**: Augment `download_models.sh` with GPU-detected variant selection, HF_TOKEN validation, and retry/fallback downloads.\n**Files**: `docker/download_models.sh`\n\n**Implementation**:\n1. Add helper `download_asset(url,dest)` using `aria2c` when available and falling back to `wget`; it should echo progress and exit with `error` on failure.\n2. Introduce `total_vram_mb=$(nvidia-smi --query-gpu=memory.total --format=csv,noheader,nounits | head -n 1)` to drive variant selection (`fp16` if >= 32000, `fp8` for >= 24000, error below 24000 with guidance to upgrade GPU or skip LTX-2).\n3. Define `download_ltx2()` which checks `HF_TOKEN`, selects `ltx2_video_19B_${variant}.safetensors`, ensures it downloads only once, and writes `ltx2_variant.txt` metadata so workflows can confirm the quantization.\n4. Integrate `download_ltx2` into the main download flow under the `ENABLE_LTX2` guard, reusing the existing `download_config` pattern for logging.\n\n**Verification**:\n```bash\nbash -n download_models.sh && \\\nHF_TOKEN=hf_test LTX2_VARIANT=fp8 ENABLE_LTX2=true bash download_models.sh --dry-run ltx2\n```\nExpect a clear log line with selected variant and either `file already exists` or `starting download ...`.\n\n### Phase 4: Workflow Definitions\n**Purpose**: Deliver two validated ComfyUI graphs (text2video + image2video) with VRAM-friendly defaults.\n**Files**: `docker/workflows/ltx2-text2video.json`, `docker/workflows/ltx2-image2video.json`\n\n**Highlights**:\n- Node order: CLIPLoader \u2192 UNETLoader (pointing to `ltx2_video_19B_${variant}.safetensors`) \u2192 VAELoader \u2192 two CLIPTextEncode nodes \u2192 EmptyLatentImage \u2192 LTX2Sampler \u2192 VAEDecode \u2192 VHS_VideoCombine.\n- Image2Video adds `LoadImage` + `LTX2ImageConditioning` before the sampler.\n- Default sampler: `LTX2Sampler` (scheduler: `karras`, steps: 50, `force_offload: true`, `batch_size: 1`).\n- Output format: `webm`, `24 fps`, file name prefixed with `${LTX2_OUTPUT_DIR}/ltx2_output_${timestamp}`.\n\n**Verification**:\n```bash\ncd docker/workflows && \\\nfor f in ltx2-*.json; do\n  python -m json.tool \"$f\" >/dev/null && \\\n  jq -e '.nodes[] | select(.type==\"LTX2Sampler\")' \"$f\" >/dev/null\n  echo \"\u2713 $f\"\ndone\n```\nAdd an `index.md` in `docker/workflows` summarizing how to load these graphs via ComfyUI UI.\n\n### Phase 5: Documentation & Runbooks\n**Purpose**: Document the new feature, environment variables, R2 paths, and HuggingFace token requirements.\n**Files**: `docker/CLAUDE.md`, README, AGENTS guidelines\n\n**Updates**:\n1. Insert an `LTX-2 Video Generation` section describing capabilities (text2video, image2video, 800+ frames with 32GB VRAM) and pointing to the GitHub/HuggingFace repos.\n2. Update GPU recommendation table to include LTX-2 FP8 (16-24GB) and FP16 (32GB+) rows.\n3. Expand the environment variables table with `LTX2_OUTPUT_DIR`, `LTX2_VIDEO_FORMAT`, `LTX2_MAX_FRAMES`, and `ENABLE_LTX2_VRAM_MANAGEMENT` plus short notes.\n4. Extend the storage requirements list with FP8 (~27GB) and FP16 (~54GB) entries.\n5. Update the R2 sync table with estimated output sizes (100-400MB per clip) and mention the folder structure `outputs/ltx2/YYYY-MM-DD/`.\n6. Amend the pod creation command example to include `--env \"ENABLE_LTX2=true\"` and `--env \"LTX2_VARIANT=fp16\"` when requesting a 40GB+ GPU.\n\n**Verification**:\n```bash\nrg -n \"LTX-2\" docker/CLAUDE.md\n```\nExpect 8+ matches covering GPU tables, env vars, section, R2, and pod creation command.\n\n### Phase 6: Validation & Smoke Testing\n**Purpose**: Confirm the combined stack works end-to-end before committing.\n\n**Steps**:\n1. Build the Docker image with LTX-2 enabled:\n   ```bash\ndocker compose build --pull\n```\n2. Start the stack:\n   ```bash\ncd docker && docker compose --profile comfy up -d\n```\n3. Within the container, run `python download_models.py --list` (if provided) or `bash download_models.sh --dry-run ltx2` to ensure downloads land in `/workspace/ComfyUI/models/diffusion_models`.\n4. Use ComfyUI UI to load `ltx2-text2video`, queue a short prompt, and inspect logs for `LTX2Sampler` initialization.\n5. Verify R2 sync produces logs in `/var/log/r2_sync.log` referencing `outputs/ltx2/`.\n6. Run `bash docker/scripts/r2_sync_status.sh` (create helper if missing) to confirm the latest file is uploaded.\n7. Optionally, run `docker logs` to ensure `HF_TOKEN` usage shows `auth success` lines.\n\n**Verification**:\n```bash\ncurl -fs http://localhost:8188/status && \\\ndocker exec comfyui tail -n 20 /var/log/r2_sync.log\n```\nExpect HTTP 200, new files under `outputs/ltx2/`, and no `Error: HF_TOKEN` messages.\n\n## Verification Checklist\n- `docker compose config` shows LTX-2 env vars.\n- `docker build --build-arg BAKE_LTX2=true` passes.\n- `bash download_models.sh --dry-run ltx2` respects existing files.\n- Workflow JSONs validate with `json.tool` and include `LTX2Sampler` nodes.\n- `CLAUDE.md` contains GPU, env var, storage, and pod command updates.\n- ComfyUI UI loads `ltx2-text2video` without errors.\n- R2 sync daemon writes to `outputs/ltx2/`.\n\n## Parallel Execution Map\nWave 1: P1 (Docker guardrails)\nWave 2: P2 (Custom node) \u2194 P3 (Model download)\nWave 3: P4 (Workflows)\nWave 4: P5 (Docs) + P6 (Validation)\n\n## Rollback & Safety\n- To rollback Phase 2/3 changes, revert `docker/Dockerfile` and `docker/download_models.sh` and run `docker compose down && docker compose build --no-cache`.\n- Clear stale LTX-2 models: `rm -f docker/models/diffusion_models/ltx2*`.\n- Reset workflows: `rm docker/workflows/ltx2-*.json` before reapplying.\n\n## Dependencies & Risks\n| Dependency | Notes | Risk & Mitigation |\n|------------|-------|------------------|\n| ComfyUI-LTXVideo repo | Public GitHub | Risk: upstream tag removal; mitigation: vendor snapshot into repo and pin commit.\n| LTX-2 HuggingFace model | Gated; requires HF_TOKEN | Risk: invalid token; mitigation: template enforces secret, logs error when missing.\n| GPU VRAM | Must meet quantization threshold | Risk: lower VRAM; mitigation: script errors with clear instructions.\n\n## File Deliverables Summary\n| File | Purpose |\n|------|---------|\n| `docker/Dockerfile` | Git LFS, build args, custom node clone, verification script |\n| `docker/docker-compose.yml` | LTX-2 env vars, VRAM guidance |\n| `docker/download_models.sh` | VRAM detection, `download_ltx2`, HF_TOKEN validation |\n| `docker/workflows/ltx2-text2video.json` | Text-to-video workflow definition |\n| `docker/workflows/ltx2-image2video.json` | Image-to-video workflow definition |\n| `docker/CLAUDE.md` | Documentation, env table, R2 values |\n\n## Model Specifications\n| Variant | Size | VRAM | Frames |\n|---------|------|------|--------|\n| FP8 | ~27GB | 16-24GB | 300-500 (sequential offload) |\n| FP16 | ~54GB | 32GB+ | 800+ |\n\n## Operational Notes\n- Outputs land in `/workspace/ComfyUI/output/ltx2/` and sync to `outputs/ltx2/YYYY-MM-DD/` via R2.\n- `ENABLE_LTX2_VRAM_MANAGEMENT=true` switches on sequential CPU offload and `--medvram` flags.\n- Template users should supply `HF_TOKEN` via RunPod secrets as `RUNPOD_SECRET_hf_token`.\n",
  "recommendations": [
    "Wire these verification commands into CI (e.g., `bash download_models.sh --dry-run ltx2`) so the template stays valid over time.",
    "Automate nightly smoke tests that run an LTX-2 workflow on a trimmed prompt and assert R2 output appears under `outputs/ltx2/`."
  ]
}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       exec
/usr/bin/zsh -lc "python3 - <<'PY'
import json
from pathlib import Path
improved_prd = Path('/tmp/improved_prd.md').read_text()
data = {
    \"review_summary\": {
        \"overall_score\": 43,
        \"grade\": \"A\",
        \"strengths\": [
            \"Phase breakdown now ties specific deliverables to commands so implementers can work without guesswork.\",
            \"Verification section ties Docker, download, workflow, and docs changes to concrete checks, addressing the original testability gap.\"
        ],
        \"improvements_needed\": [
            \"Add an automated baseline performance check (e.g., sample prompt runtime) so future regressions surface early.\",
            \"Define success criteria for R2 uploads (file counts, latency) to close the current monitoring gap.\"
        ]
    },
    \"dimension_scores\": {
        \"completeness\": {\"score\": 9, \"notes\": \"Covers env vars, downloads, workflows, docs, and validation runbooks. Missing only a performance target section.\"},
        \"clarity\": {\"score\": 9, \"notes\": \"Structured sections with bullet lists, tables, and explicit verification commands keep instructions unambiguous.\"},
        \"actionability\": {\"score\": 9, \"notes\": \"Every phase now names files, commands, and fallback handling required to implement the work.\"},
        \"safety\": {\"score\": 8, \"notes\": \"Rollback steps and risk table communicate threats; could still call out expected cleanup durations.\"},
        \"best_practices\": {\"score\": 8, \"notes\": \"Follows RunPod templates, names env vars consistently, and documents gating points; extra lint/CI hooks would raise this further.\"}
    },
    \"gaps_identified\": [
        {\"phase\": \"P1\", \"gap\": \"Lacked explicit HF_TOKEN guard rails and verification commands for the new env vars.\", \"severity\": \"MED\", \"recommendation\": \"Add "'`docker compose config` + grep checks and a failing HF_TOKEN validation clause so builds halt before download attempts."},
        {"phase": "P2", "gap": "Custom node instructions did not pin the repository tag or verify imports, increasing drift risk.", "severity": "MED", "recommendation": "Checkout `v0.2.0` and run `python -m pip check` + import test during the Docker build."},
        {"phase": "P3", "gap": "Download logic lacked fallback tools and VRAM detection for variant selection.", "severity": "HIGH", "recommendation": "Introduce `download_asset()` with aria2c fallback and use `nvidia-smi` before deciding between fp8/fp16."},
        {"phase": "P4", "gap": "Workflow files were not accompanied by JSON/sampler validation commands.", "severity": "MED", "recommendation": "Add `python -m json.tool` + `jq` checks to ensure nodes and configuration keys exist before shipping.", "notes": "Slightly more detail helps avoid runtime graph failures."},
        {"phase": "P5", "gap": "Documentation did not cover R2 output sizing or updated pod creation env vars.", "severity": "LOW", "recommendation": "Extend the GPU/env var/storage tables and R2 section with LTX-2-specific entries plus the new `ENABLE_LTX2` example."}
    ],
    "improved_prd": improved_prd,
    "recommendations": [
        "Wire these verification commands into CI (e.g., `bash download_models.sh --dry-run ltx2`) so the template stays valid over time.",
        "Automate nightly smoke tests that run an LTX-2 workflow on a trimmed prompt and assert R2 output appears under `outputs/ltx2/`."
    ]
}
Path('"'dev/agents/artifacts/doc/plan/ltx2-runpod-template-codex-review.md').write_text(json.dumps(data, indent=2))
PY" in /home/oz/projects/2025/oz/12/runpod succeeded in 51ms:


thinking
**Verifying file creation**
exec
/usr/bin/zsh -lc 'cat dev/agents/artifacts/doc/plan/ltx2-runpod-template-codex-review.md' in /home/oz/projects/2025/oz/12/runpod succeeded in 51ms:
{
  "review_summary": {
    "overall_score": 43,
    "grade": "A",
    "strengths": [
      "Phase breakdown now ties specific deliverables to commands so implementers can work without guesswork.",
      "Verification section ties Docker, download, workflow, and docs changes to concrete checks, addressing the original testability gap."
    ],
    "improvements_needed": [
      "Add an automated baseline performance check (e.g., sample prompt runtime) so future regressions surface early.",
      "Define success criteria for R2 uploads (file counts, latency) to close the current monitoring gap."
    ]
  },
  "dimension_scores": {
    "completeness": {
      "score": 9,
      "notes": "Covers env vars, downloads, workflows, docs, and validation runbooks. Missing only a performance target section."
    },
    "clarity": {
      "score": 9,

thinking
**Preparing final summary message**
codex
- Completed the Codex review per your protocol; the scoring/gap analysis plus the improved PRD text are stored in JSON at `dev/agents/artifacts/doc/plan/ltx2-runpod-template-codex-review.md`.
- The new PRD adds detailed verification commands, VRAM-aware download logic, rollback notes, and runbook-level guidance so /implement can pick up work without needing follow-ups.
- Next steps: run the verification checklist (e.g., `docker compose config`, `bash download_models.sh --dry-run ltx2`, workflow JSON + jq checks, etc.) and consider wiring those commands into CI or nightly smoke tests as noted in the recommendations.
tokens used
204,387
- Completed the Codex review per your protocol; the scoring/gap analysis plus the improved PRD text are stored in JSON at `dev/agents/artifacts/doc/plan/ltx2-runpod-template-codex-review.md`.
- The new PRD adds detailed verification commands, VRAM-aware download logic, rollback notes, and runbook-level guidance so /implement can pick up work without needing follow-ups.
- Next steps: run the verification checklist (e.g., `docker compose config`, `bash download_models.sh --dry-run ltx2`, workflow JSON + jq checks, etc.) and consider wiring those commands into CI or nightly smoke tests as noted in the recommendations.
